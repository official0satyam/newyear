<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Happy New Year 2026 - Ultra Edition</title>
    <style>
        :root {
            --neon-pink: #ff00ea;
            --neon-blue: #00f2ff;
            --gold: #ffd700;
            --deep-purple: #1a0033;
        }

        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: #050505;
            font-family: 'Avenir', 'Segoe UI', sans-serif;
            touch-action: none;
            user-select: none;
            color: white;
        }

        #canvas { display: block; }

        #ui-layer {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: 10;
            pointer-events: none;
        }

        /* Balloon Styling */
        .balloon {
            position: absolute;
            width: 70px; height: 85px;
            border-radius: 50% 50% 50% 50% / 40% 40% 60% 60%;
            cursor: pointer;
            pointer-events: auto;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 30px;
            box-shadow: inset -10px -10px 20px rgba(0,0,0,0.3), 0 10px 20px rgba(0,0,0,0.4);
            z-index: 12;
            transition: transform 0.1s;
        }
        .balloon:active { transform: scale(1.2); }

        .center-container {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            pointer-events: auto;
            z-index: 11;
        }

        /* Cake Stage */
        .cake-container {
            display: none;
            animation: bounceIn 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .cake-container.visible { display: block; }
        .cake {
            font-size: 120px;
            filter: drop-shadow(0 0 30px var(--neon-pink));
            cursor: pointer;
            transition: 0.3s;
        }
        .cake:hover { transform: scale(1.1) rotate(5deg); }
        .cake.sliced { animation: explodeOut 0.6s ease-in forwards; }

        /* Name Modal */
        #name-modal {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(135deg, #fff 0%, #f0f0f0 100%);
            padding: 30px;
            border-radius: 30px;
            text-align: center;
            z-index: 100;
            display: none;
            pointer-events: auto;
            width: 90%;
            max-width: 400px;
            box-shadow: 0 0 100px rgba(255, 0, 234, 0.5);
            border: 4px solid var(--neon-pink);
        }
        #name-modal h2 { color: #333; font-size: 1.8rem; margin-bottom: 10px; }
        #name-modal input {
            width: 100%; padding: 15px; margin: 20px 0;
            border: 2px solid #ddd; border-radius: 15px;
            font-size: 1.2rem; outline: none; text-align: center;
            box-sizing: border-box;
        }
        #name-modal button {
            background: var(--neon-pink); color: white;
            border: none; padding: 15px 40px;
            border-radius: 15px; font-weight: 900;
            cursor: pointer; width: 100%; font-size: 1.2rem;
            box-shadow: 0 5px 0 #b300a4;
        }

        /* Message Overlay */
        #message-overlay {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: 20; opacity: 0;
            display: none; flex-direction: column;
            align-items: center; justify-content: flex-start;
            padding: 40px 10px; box-sizing: border-box;
            background: radial-gradient(circle at center, rgba(26, 0, 51, 0.8) 0%, rgba(5, 5, 5, 0.95) 100%);
            pointer-events: none; overflow-y: auto;
        }
        #message-overlay.show { pointer-events: auto; display: flex; opacity: 1; }

        .hero-section { text-align: center; margin-bottom: 30px; animation: slideDown 1s ease-out; width: 100%; }
        .main-title {
            font-size: clamp(2rem, 8vw, 5rem);
            font-weight: 900; text-transform: uppercase;
            background: linear-gradient(to bottom, #fff, var(--gold), #ff8800);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            margin: 0;
            letter-spacing: 2px;
        }
        
        /* High Powered 2026 Animation */
        .year-text {
            font-size: clamp(5rem, 20vw, 12rem);
            color: white; 
            font-weight: 900;
            display: block; 
            margin-top: -10px;
            position: relative;
            animation: glowCycle 3s infinite alternate, textFloat 4s ease-in-out infinite;
        }

        /* Board Items */
        .board-container {
            width: 100%; max-width: 900px;
            display: flex; flex-wrap: wrap;
            justify-content: center; gap: 20px;
            padding: 10px;
            box-sizing: border-box;
        }
        .polaroid {
            background: white; padding: 10px 10px 30px 10px;
            width: 260px; box-shadow: 0 20px 50px rgba(0,0,0,0.8);
            transform: rotate(var(--rot)); transition: 0.3s;
            position: relative;
            pointer-events: auto;
        }
        .polaroid:hover { transform: rotate(0deg) scale(1.05); z-index: 30; }
        .polaroid-img { height: 140px; background: #111; display: flex; align-items: center; justify-content: center; font-size: 50px; }
        .polaroid-caption { padding-top: 10px; color: #333; font-family: 'Comic Sans MS', cursive; }
        .polaroid-caption textarea {
            width: 100%; border: none; font-size: 1rem; resize: none; outline: none;
            background: transparent; color: #444; font-family: inherit;
        }

        /* Golden Ticket Summary */
        #summary-view {
            display: none;
            background: linear-gradient(135deg, #ffd700 0%, #ff8800 100%);
            color: #462500; padding: 30px; border-radius: 5px;
            width: 95%; max-width: 450px; text-align: center;
            border: 8px double #fff; position: relative;
            box-shadow: 0 0 50px rgba(255,215,0,0.6);
            animation: ticketIn 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-sizing: border-box;
            margin-bottom: 50px;
        }
        #summary-view::before, #summary-view::after {
            content: ''; position: absolute; width: 40px; height: 40px;
            background: #050505; border-radius: 50%; top: 50%; transform: translateY(-50%);
        }
        #summary-view::before { left: -25px; }
        #summary-view::after { right: -25px; }

        .motivational-msg {
            margin-top: 20px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 10px;
            font-weight: 800;
            font-style: italic;
            border-left: 5px solid #462500;
            text-align: left;
            font-size: 0.95rem;
        }

        .grand-save-btn {
            background: linear-gradient(135deg, #00f2ff, #0066ff);
            color: white; border: 4px solid white;
            padding: 15px 40px; font-size: 1.2rem; font-weight: 900;
            border-radius: 100px; cursor: pointer;
            box-shadow: 0 8px 0 #0044aa, 0 0 30px rgba(0, 242, 255, 0.5);
            margin: 30px 0; transition: 0.2s;
            pointer-events: auto;
        }
        .grand-save-btn:active { transform: translateY(6px); box-shadow: 0 2px 0 #0044aa; }

        /* UI elements */
        #pop-counter {
            position: absolute; top: 15px; left: 50%; transform: translateX(-50%);
            background: rgba(255,255,255,0.95); color: #000;
            padding: 10px 20px; border-radius: 50px; font-weight: 900;
            box-shadow: 0 6px 0 #ccc; z-index: 1000;
            white-space: nowrap; font-size: 0.9rem;
        }

        @keyframes glowCycle {
            from { text-shadow: 0 0 10px #fff, 0 0 20px var(--neon-pink), 0 0 40px var(--neon-pink); }
            to { text-shadow: 0 0 20px #fff, 0 0 40px var(--neon-blue), 0 0 80px var(--neon-blue); }
        }
        @keyframes textFloat {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-15px) rotate(2deg); }
        }
        @keyframes explodeOut { 0% { transform: scale(1); } 50% { transform: scale(2.5); opacity: 0.5; } 100% { transform: scale(0); opacity: 0; } }
        @keyframes slideDown { from { transform: translateY(-100px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        @keyframes ticketIn { from { transform: scale(0.5) rotate(-10deg); opacity: 0; } to { transform: scale(1) rotate(0deg); opacity: 1; } }
        @keyframes bounceIn { 0% { transform: scale(0); } 70% { transform: scale(1.1); } 100% { transform: scale(1); } }
        
        .hidden { display: none !important; }

        @media (max-width: 600px) {
            .polaroid { width: 100%; max-width: 280px; }
            .hero-section { margin-bottom: 20px; }
            .main-title { margin-top: 20px; }
        }
    </style>
</head>
<body>

    <div id="ui-layer">
        <div id="pop-counter">POP 6 BALLOONS TO START! (0/6)</div>
        <div class="center-container">
            <div class="cake-container" id="cake-wrap">
                <p style="margin-bottom:20px; font-weight:900; color:var(--gold); font-size: 1.2rem; text-shadow: 0 0 10px #000;">NOW SLICE THE CAKE! üî™</p>
                <div class="cake" id="cake-trigger">üéÇ</div>
            </div>
        </div>
    </div>

    <!-- Name Modal -->
    <div id="name-modal">
        <h2>Who are we celebrating? ü•≥</h2>
        <p style="color: #666; font-size: 0.9rem;">Tap for the 2026 Experience</p>
        <input type="text" id="user-name-input" placeholder="Your Name Here..." maxlength="15">
        <button onclick="submitName()">I'M READY TO PARTY! üöÄ</button>
    </div>

    <!-- GRAND FINAL PAGE -->
    <div id="message-overlay">
        <div class="hero-section">
            <h1 class="main-title">Happy New Year</h1>
            <span class="year-text">2026</span>
            <div style="background: #ff0055; padding: 5px 20px; transform: rotate(-2deg); display: inline-block; font-weight: 900; box-shadow: 5px 5px 0 #000;">FROM SATYAM WITH ‚ù§Ô∏è</div>
        </div>

        <div id="vision-stage" class="board-container">
            <h2 style="width: 100%; text-align: center; color: var(--gold); margin-bottom: 20px; text-shadow: 2px 2px #000;">THE 2026 MANIFESTO OF <span id="display-name" style="text-decoration: underline;">USER</span></h2>
            
            <div class="polaroid" style="--rot: -3deg">
                <div class="polaroid-img">üèÜ</div>
                <div class="polaroid-caption">
                    <h3 style="margin:0; font-size: 1rem;">2025's Best Moment:</h3>
                    <textarea id="m25" placeholder="Something you're proud of..."></textarea>
                </div>
            </div>

            <div class="polaroid" style="--rot: 2deg">
                <div class="polaroid-img">üöÄ</div>
                <div class="polaroid-caption">
                    <h3 style="margin:0; font-size: 1rem;">2026's Big Dream:</h3>
                    <textarea id="g26" placeholder="One thing you WILL achieve..."></textarea>
                </div>
            </div>

            <button class="grand-save-btn" onclick="saveVision()">LOCK IN DESTINY üîí‚ú®</button>
        </div>

        <div id="summary-view">
            <p style="font-weight: 900; letter-spacing: 5px; margin: 0; font-size: 0.8rem;">OFFICIAL TICKET</p>
            <h1 style="margin: 10px 0; font-size: 2rem; text-transform: uppercase;" id="sum-name"></h1>
            <hr style="border: 1px dashed #462500;">
            <div style="text-align: left; margin: 15px 0; font-size: 0.9rem;">
                <p><strong>Past Glory:</strong> <span id="sum-m25"></span></p>
                <p><strong>Future Legend:</strong> <span id="sum-g26"></span></p>
            </div>
            
            <div class="motivational-msg">
                "Don't just watch the clock; do what it does. Keep going. 2026 isn't just a new year‚Äîit's your new canvas. Paint it bold, paint it bright, and never stop chasing the light!"
            </div>

            <p style="margin-top: 15px; font-weight: 900; color: #fff; background: #462500; padding: 8px; border-radius: 4px; font-size: 0.9rem;">WISHING YOU A BLESSED 2026! üéâ</p>

            <div style="font-size: 1.5rem; margin-top: 10px;">‚ú® üöÄ üíé</div>
            <p style="font-size: 0.7rem; margin-top: 10px; opacity: 0.7;">SIGNED BY SATYAM & THE UNIVERSE</p>
        </div>
    </div>

    <canvas id="canvas"></canvas>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const cakeWrap = document.getElementById('cake-wrap');
        const cakeTrigger = document.getElementById('cake-trigger');
        const messageOverlay = document.getElementById('message-overlay');
        const popCounter = document.getElementById('pop-counter');
        const nameModal = document.getElementById('name-modal');

        // Audio System
        let audioCtx;
        function initAudio() {
            if (!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        }

        function playPopSound() {
            if (!audioCtx) return;
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.type = 'sine';
            osc.frequency.setValueAtTime(500, audioCtx.currentTime);
            osc.frequency.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.1);
            gain.gain.setValueAtTime(0.2, audioCtx.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.1);
            osc.connect(gain);
            gain.connect(audioCtx.destination);
            osc.start();
            osc.stop(audioCtx.currentTime + 0.1);
        }

        function playFireworkSound() {
            if (!audioCtx) return;
            const bufferSize = audioCtx.sampleRate * 0.5;
            const buffer = audioCtx.createBuffer(1, bufferSize, audioCtx.sampleRate);
            const data = buffer.getChannelData(0);
            for (let i = 0; i < bufferSize; i++) {
                data[i] = (Math.random() * 2 - 1) * Math.exp(-i / (audioCtx.sampleRate * 0.1));
            }
            const source = audioCtx.createBufferSource();
            source.buffer = buffer;
            const lowpass = audioCtx.createBiquadFilter();
            lowpass.type = 'lowpass';
            lowpass.frequency.value = 1000;
            source.connect(lowpass);
            lowpass.connect(audioCtx.destination);
            source.start();
        }

        let particles = [];
        let fireworks = [];
        let stars = [];
        let balloons = [];
        let active = false;
        let balloonsPopped = 0;
        let userName = "";
        let starSpeedMult = 1;
        const totalBalloons = 6;

        class BalloonUI {
            constructor() {
                this.element = document.createElement('div');
                this.element.className = 'balloon';
                const colors = ['#ff00ea', '#00f2ff', '#ffd700', '#ff4444', '#44ff44'];
                this.color = colors[Math.floor(Math.random() * colors.length)];
                this.element.innerHTML = ['üçæ','üî•','üíé','üßø','‚ö°'][Math.floor(Math.random()*5)];
                this.element.style.backgroundColor = this.color;
                this.reset();
                document.getElementById('ui-layer').appendChild(this.element);
                this.element.addEventListener('click', (e) => this.pop(e));
                this.element.addEventListener('touchstart', (e) => { e.preventDefault(); this.pop(e); });
            }
            reset() {
                this.x = Math.random() * (window.innerWidth - 70);
                this.y = window.innerHeight + 100 + Math.random() * 500;
                this.vy = -(1.2 + Math.random() * 2.5);
                this.floatOffset = Math.random() * 10;
                this.popped = false;
            }
            update() {
                this.y += this.vy;
                this.x += Math.sin(Date.now() / 1000 + this.floatOffset) * 2;
                if (this.y < -150) this.reset();
                this.element.style.left = this.x + 'px';
                this.element.style.top = this.y + 'px';
            }
            pop(e) {
                if (this.popped) return;
                initAudio();
                playPopSound();
                this.popped = true;
                createBurst(this.x + 35, this.y + 40, this.color, 40);
                this.element.remove();
                balloonsPopped++;
                popCounter.innerText = `KEEP GOING! (${balloonsPopped}/${totalBalloons})`;
                if (balloonsPopped >= totalBalloons) {
                    popCounter.classList.add('hidden');
                    cakeWrap.classList.add('visible');
                }
            }
        }

        class Particle {
            constructor(x, y, color, velocity) {
                this.x = x; this.y = y; this.color = color; this.velocity = velocity;
                this.alpha = 1; this.life = 0.008 + Math.random() * 0.012;
            }
            draw() {
                const radius = Math.max(0.1, 4 * this.alpha);
                ctx.save();
                ctx.globalAlpha = Math.max(0, this.alpha);
                ctx.beginPath();
                ctx.arc(this.x, this.y, radius, 0, Math.PI * 2);
                ctx.fillStyle = this.color;
                ctx.fill();
                ctx.restore();
            }
            update() {
                this.x += this.velocity.x;
                this.y += this.velocity.y;
                this.velocity.y += 0.15;
                this.alpha -= this.life;
            }
        }

        class Firework {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = canvas.height;
                this.targetY = Math.random() * (canvas.height * 0.4);
                this.velocity = { x: (Math.random()-0.5)*6, y: -15 - Math.random()*8 };
                this.color = `hsl(${Math.random() * 360}, 100%, 70%)`;
                this.exploded = false;
            }
            update() {
                this.x += this.velocity.x; this.y += this.velocity.y;
                if (this.y <= this.targetY) this.explode();
            }
            explode() {
                this.exploded = true;
                playFireworkSound();
                createBurst(this.x, this.y, this.color, 150);
            }
        }

        function createBurst(x, y, color, count) {
            for (let i = 0; i < count; i++) {
                const angle = (Math.PI * 2 / count) * i + (Math.random()*0.5);
                const speed = Math.random() * 12 + 3;
                particles.push(new Particle(x, y, color, {
                    x: Math.cos(angle) * speed,
                    y: Math.sin(angle) * speed
                }));
            }
        }

        function speak(text) {
            if ('speechSynthesis' in window) {
                const synth = window.speechSynthesis;
                const utter = new SpeechSynthesisUtterance(text);
                utter.pitch = 1.1;
                utter.rate = 0.95;
                synth.speak(utter);
            }
        }

        function animate() {
            ctx.fillStyle = 'rgba(5, 5, 5, 0.25)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            stars.forEach(s => {
                s.y += s.speed * starSpeedMult;
                if (s.y > canvas.height) s.y = -10;
                ctx.fillStyle = `rgba(255,255,255,${s.opacity})`;
                ctx.fillRect(s.x, s.y, s.size, s.size);
            });

            if (!active) balloons.forEach(b => b.update());
            
            if (active) {
                if (Math.random() < 0.08) fireworks.push(new Firework());
                fireworks.forEach((fw, idx) => {
                    fw.update();
                    if (fw.exploded) fireworks.splice(idx, 1);
                });
            }

            for (let i = particles.length - 1; i >= 0; i--) {
                particles[i].update();
                particles[i].draw();
                if (particles[i].alpha <= 0) particles.splice(i, 1);
            }
            requestAnimationFrame(animate);
        }

        cakeTrigger.addEventListener('click', () => {
            initAudio();
            playFireworkSound();
            cakeTrigger.classList.add('sliced');
            createBurst(window.innerWidth/2, window.innerHeight/2, '#ff00ea', 100);
            setTimeout(() => {
                cakeWrap.classList.add('hidden');
                nameModal.style.display = 'block';
            }, 600);
        });

        function submitName() {
            initAudio();
            const input = document.getElementById('user-name-input');
            userName = input.value.trim() || "Legend";
            nameModal.style.display = 'none';
            messageOverlay.classList.add('show');
            document.getElementById('display-name').innerText = userName.toUpperCase();
            active = true;
            starSpeedMult = 6; 
            speak(`Happy New Year ${userName}! 2026 is officially yours to conquer!`);
            
            for(let i=0; i<30; i++) {
                setTimeout(() => {
                    if(active) fireworks.push(new Firework());
                }, i * 400);
            }
        }

        function saveVision() {
            initAudio();
            playFireworkSound();
            const m25 = document.getElementById('m25').value || "Strong survival and growth!";
            const g26 = document.getElementById('g26').value || "Unstoppable success!";
            
            document.getElementById('sum-name').innerText = userName;
            document.getElementById('sum-m25').innerText = m25;
            document.getElementById('sum-g26').innerText = g26;
            
            document.getElementById('vision-stage').style.display = 'none';
            document.getElementById('summary-view').style.display = 'block';
            
            createBurst(window.innerWidth/2, window.innerHeight/2, '#ffd700', 250);
            speak("Your manifesto is locked! Go make 2026 legendary.");
        }

        function resize() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            stars = [];
            for (let i = 0; i < 200; i++) {
                stars.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    size: Math.random() * 2,
                    opacity: Math.random(),
                    speed: Math.random() * 2 + 0.5
                });
            }
        }

        window.addEventListener('resize', resize);
        resize();
        for(let i=0; i<totalBalloons; i++) balloons.push(new BalloonUI());
        animate();
    </script>
</body>
</html>